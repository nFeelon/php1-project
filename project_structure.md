# Структура проекта TrueWatch

## Frontend (Клиентская часть)

### Страницы
- `index.php` - Главная страница сайта
- `login.php` - Страница авторизации
- `register.php` - Страница регистрации
- `navbar.php` - Компонент навигационной панели
- `video.php` - Страница просмотра видео
- `search.php` - Компонент поисковой строки
- `search_results.php` - Страница результатов поиска с фильтрами
- `channel.php` - Страница канала пользователя
- `profile.php` - Личный кабинет пользователя

### Компоненты
- `/components` - Переиспользуемые компоненты интерфейса
  - `video_card.php` - Компонент для отображения карточки видео
  - `sort_menu.php` - Выпадающее меню сортировки (для поиска и других страниц)


### Статические ресурсы

#### /css
Стили проекта
- `auth.css` - Стили для страниц авторизации и регистрации
- `channel.css` - Стили для страницы канала пользователя
- `comments.css` - Стили для секции комментариев
- `fonts.css` - Подключение и настройка шрифтов
- `general.css` - Основные стили проекта
- `navbar.css` - Стили навигационной панели
- `profile.css` - Стили для личного кабинета пользователя
- `reset.css` - Сброс стандартных стилей браузера
- `search.css` - Стили для компонента поиска и страницы результатов
- `sort_menu.css` - Стили для выпадающего меню сортировки
- `subscribe.css` - Стили для кнопки подписки и связанных элементов
- `variables.css` - CSS-переменные (цвета, размеры и т.д.)
- `video-grid.css` - Стили для отображения сетки видео
- `video.css` - Стили для страницы просмотра видео

#### /js
JavaScript файлы
- `auth.js` - Общие функции для авторизации
- `channel.js` - Скрипты для страницы канала
- `comments.js` - Скрипты для работы с комментариями (добавление, редактирование, удаление, лайки, ответы)
- `login.js` - Скрипты страницы авторизации
- `profile.js` - Скрипты для личного кабинета
- `register.js` - Скрипты страницы регистрации
- `search.js` - Скрипты для поиска и фильтрации
- `sort_menu.js` - Скрипты для выпадающего меню сортировки
- `subscribe.js` - Скрипты для функционала подписки на каналы
- `video-grid.js` - Скрипты для сетки видео
- `video-rating.js` - Скрипты для оценки видео (лайки/дизлайки)
- `video-tracking.js` - Скрипты для отслеживания просмотра видео

#### /img
Изображения проекта
- `favicon.png` - Иконка сайта
- `logo.png` - Логотип сайта
- `default-avatar.png` - Изображение по умолчанию для аватара пользователя
- `default-thumbnail.jpg` - Изображение по умолчанию для превью видео

## Backend (Серверная часть)

### /api
API-эндпоинты для взаимодействия с клиентской частью
- `comments.php` - API для работы с комментариями (получение, добавление, редактирование, удаление, лайки)
- `get_avatar.php` - API для получения аватара пользователя
- `get_video.php` - API для получения видео с сервера
- `get_video_info.php` - API для получения информации о видео с сервера
- `get_channel.php` - API для получения информации о канале
- `get_channel_videos.php` - API для получения видео канала
- `get_channel_subscriptions.php` - API для получения подписок канала
- `subscribe.php` - API для подписки/отписки от канала
- `track_view.php` - API для отслеживания просмотров видео
- `video_rating.php` - API для работы с рейтингом видео

#### /api/auth
Endpoints авторизации
- `login.php` - Обработка запросов на авторизацию
- `logout.php` - Обработка выхода из системы
- `register.php` - Обработка регистрации новых пользователей

### /includes
Основные PHP классы и утилиты
- `Database.php` - Класс для работы с базой данных
- `User.php` - Класс для работы с пользователями (используется в auth_check.php)
- `UserManager.php` - Расширенный класс для работы с пользователями
- `SubscriptionManager.php` - Класс для работы с подписками
- `VideoManager.php` - Класс для работы с видео (включает методы для фильтрации)
- `CommentManager.php` - Класс для работы с комментариями (получение, добавление, редактирование, удаление, лайки)
- `auth_check.php` - Проверка авторизации пользователя
- `db_connection.php` - Файл для инициализации соединения с базой данных
- `helpers.php` - Вспомогательные функции для форматирования данных

### /database
SQL файлы и структура базы данных
- `current_database.sql` - Текущая версия базы данных

### /server
Директория для хранения медиа-контента (по id)
- `/server/video` - Директория для хранения видеофайлов в формате .mp4
  - `/thumbnails` - Директория для хранения превью к видео в формате .jpg
- `/server/user` - Директория для хранения изображений пользователей
  - `/avatars` - Изображения профилей пользователей в разных форматах файла
  - `/banners` - Изображения баннеров (обложек) профилей пользователей в разных форматах файла

## Другие файлы

- `README.md` - Описание проекта
- `todo.md` - Список задач и планы по развитию проекта
- `project_structure.md` - Структура проекта